<div class="flex_col h_100 justify_end">
    <div class="flex_row grow overflow_hidden">
        <div
            class="rounded_t box padding margin flex_col justify_between bg overflow_hidden"
        >
            <div class="overflow_hidden flex_col w_10vw">
                <div
                    class="box rounded_t margin_b flex_row padding overflow_hidden bg_s"
                >
                    <span
                        class="to_bg grow overflow_hidden text_overflow_fade_bg"
                    >
                        Folder Name
                    </span>
                    <span
                        class="icon iconoir-floppy-disk hover_cursor_pointer hover_fg margin_r"
                    ></span>
                    <span
                        class="icon iconoir-folder hover_cursor_pointer hover_fg margin_r"
                    ></span>
                </div>
                <div class="overflow_y_scroll flex_col">
                    @for (file of files; track file.filename) {
                        <div
                            class="box thicker_border_l hover_highlight_border read hover_cursor_pointer hover_bg_s"
                        >
                            <div
                                class="flex_row padding justify_between"
                                [ngClass]="{
                                    fg4: !file.active,
                                    bg_s: file.active,
                                }"
                            >
                                <div
                                    class="align_end overflow_hidden grow"
                                    [ngClass]="{
                                        text_overflow_fade_bg: !file.active,
                                        text_overflow_fade_bg_s: file.active,
                                    }"
                                >
                                    {{ file.filename }}
                                    @for (tag of file.tags; track tag) {
                                        <span
                                            class="margin_l small_font color_bg3"
                                            >{{ tag }}</span
                                        >
                                    }
                                </div>
                                <span
                                    class="icon iconoir-multiple-pages-empty hover_cursor_pointer hover_fg margin_r"
                                ></span>
                            </div>
                        </div>
                        <div class="pseudo_element"></div>
                    }
                </div>
                <div class="rounded_b box padding bg_s margin_b"></div>
            </div>
            <div class="w_10vw">
                <div
                    class="rounded_t box flex_row padding hover_highlight_border delete hover_cursor_pointer hover_bg_s justify_between"
                >
                    Delete File
                    <span
                        class="icon iconoir-page-minus hover_cursor_pointer hover_fg margin_r"
                    ></span>
                </div>
                <div class="pseudo_element"></div>
                <div
                    class="box flex_row padding hover_highlight_border create hover_cursor_pointer hover_bg_s justify_between"
                >
                    Create File
                    <span
                        class="icon iconoir-page-plus hover_cursor_pointer hover_fg margin_r"
                    ></span>
                </div>
                <div class="pseudo_element"></div>
                <div
                    class="box flex_row padding hover_highlight_border edit hover_cursor_pointer hover_bg_s justify_between"
                >
                    Edit File
                    <span
                        class="icon iconoir-page-edit hover_cursor_pointer hover_fg margin_r"
                    ></span>
                </div>
                <div class="pseudo_element"></div>
                <div
                    class="rounded_b box flex_row padding hover_highlight_border read hover_cursor_pointer hover_bg_s justify_between"
                >
                    Read File
                    <span
                        class="icon iconoir-page hover_cursor_pointer hover_fg margin_r"
                    ></span>
                </div>
            </div>
        </div>
        <div class="flex_col grow">
            <div
                class="rounded_tl box padding margin flex_row bg_s justify_between"
            >
                <input placeholder="Filename" />
                <div class="flex_row fg4">
                    <span
                        class="icon iconoir-eye hover_cursor_pointer hover_fg margin_r"
                    ></span>
                    <span
                        class="icon iconoir-code-brackets hover_cursor_pointer hover_fg margin_r"
                    ></span>
                    <span
                        class="icon iconoir-chat-bubble hover_cursor_pointer hover_fg margin_r"
                    ></span>
                    <span
                        class="icon iconoir-multi-bubble hover_cursor_pointer hover_fg"
                    ></span>
                </div>
            </div>
            <div class="rounded_bl box padding grow margin bg_s">
                <textarea placeholder="File empty"></textarea>
            </div>
        </div>
        <div class="rounded_r box padding margin flex_col justify_between bg_s">
            <div class="flex_col w_10vw">
                @for (message of messages; track message.content) {
                    <div
                        class="overflow_hidden flex_row box padding pseudo_input hover_highlight_border hover_cursor_pointer justify_between"
                        [ngClass]="{
                            rounded: message.role === 'system',
                            rounded_b: message.role === 'incoming',
                            rounded_t: message.role === 'outgoing',
                        }"
                    >
                        <span
                            class="overflow_hidden text_overflow_fade_bg_s grow"
                            >{{ message.content }}</span
                        >
                        <span
                            class="icon hover_cursor_pointer fg4"
                            [ngClass]="{
                                'iconoir-bubble-warning':
                                    message.role === 'system',
                                'iconoir-bubble-income':
                                    message.role === 'incoming',
                                'iconoir-bubble-outcome':
                                    message.role === 'outgoing',
                            }"
                        ></span>
                    </div>
                    <div class="pseudo_element"></div>
                }
            </div>
            <div class="flex_row w_10vw">
                <div
                    class="flex_row rounded box padding pseudo_input hover_highlight_border bg"
                >
                    <input class="flex grow" placeholder="Randomness" />
                    <span
                        class="icon iconoir-dice-six hover_cursor_pointer fg4"
                    ></span>
                </div>
                <div class="pseudo_element"></div>
                <div
                    class="flex_row rounded box padding pseudo_input hover_highlight_border bg"
                >
                    <input class="flex grow" placeholder="Variety" />
                    <span
                        class="icon iconoir-palette hover_cursor_pointer fg4"
                    ></span>
                </div>
            </div>
        </div>
    </div>
    <div class="flex_row">
        <div
            class="rounded_bl box padding grow margin pseudo_input hover_highlight_border bg"
        >
            <input
                class="flex grow"
                placeholder="Type here to control shortrest"
            />
        </div>
        <div
            class="rounded_r box padding margin flex_row centered_content hover_highlight_border fg4 bg"
        >
            <span
                class="icon iconoir-message margin_r hover_cursor_pointer hover_fg"
            ></span>
            <span
                class="icon iconoir-settings hover_cursor_pointer hover_fg"
            ></span>
        </div>
    </div>
</div>
